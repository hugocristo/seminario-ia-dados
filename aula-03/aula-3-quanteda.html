<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exemplo com quanteda - Aula 03</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="aula-3-quanteda_files/libs/clipboard/clipboard.min.js"></script>
<script src="aula-3-quanteda_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="aula-3-quanteda_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="aula-3-quanteda_files/libs/quarto-html/popper.min.js"></script>
<script src="aula-3-quanteda_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="aula-3-quanteda_files/libs/quarto-html/anchor.min.js"></script>
<link href="aula-3-quanteda_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="aula-3-quanteda_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="aula-3-quanteda_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="aula-3-quanteda_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="aula-3-quanteda_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="aulas.css">
</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sumário</h2>
   
  <ul>
  <li><a href="#instalação-e-carregamento-de-pacotes" id="toc-instalação-e-carregamento-de-pacotes" class="nav-link active" data-scroll-target="#instalação-e-carregamento-de-pacotes">1. Instalação e carregamento de pacotes</a></li>
  <li><a href="#normalização" id="toc-normalização" class="nav-link" data-scroll-target="#normalização">2. Normalização</a></li>
  <li><a href="#métricas" id="toc-métricas" class="nav-link" data-scroll-target="#métricas">3. Métricas</a>
  <ul>
  <li><a href="#frequência-absoluta-f" id="toc-frequência-absoluta-f" class="nav-link" data-scroll-target="#frequência-absoluta-f">3.1 Frequência absoluta (<em>f</em>)</a></li>
  <li><a href="#frequência-relativa-tf" id="toc-frequência-relativa-tf" class="nav-link" data-scroll-target="#frequência-relativa-tf">3.2 Frequência relativa (<em>tf</em>)</a></li>
  <li><a href="#inverso-da-frequência-idf" id="toc-inverso-da-frequência-idf" class="nav-link" data-scroll-target="#inverso-da-frequência-idf">3.3 Inverso da frequência (<em>idf</em>)</a></li>
  <li><a href="#importância-dos-termos" id="toc-importância-dos-termos" class="nav-link" data-scroll-target="#importância-dos-termos">3.4 Importância dos termos</a></li>
  <li><a href="#identificando-termos-com-alto-tf.idf" id="toc-identificando-termos-com-alto-tf.idf" class="nav-link" data-scroll-target="#identificando-termos-com-alto-tf.idf">3.5 Identificando termos com alto <em>tf.idf</em></a></li>
  <li><a href="#explorando-termo-específico-na-coleção" id="toc-explorando-termo-específico-na-coleção" class="nav-link" data-scroll-target="#explorando-termo-específico-na-coleção">3.6 Explorando termo específico na coleção</a></li>
  </ul></li>
  <li><a href="#nuvem-de-palavras-de-frequência-absoluta" id="toc-nuvem-de-palavras-de-frequência-absoluta" class="nav-link" data-scroll-target="#nuvem-de-palavras-de-frequência-absoluta">4. Nuvem de palavras de frequência absoluta</a>
  <ul>
  <li><a href="#coleção-completa" id="toc-coleção-completa" class="nav-link" data-scroll-target="#coleção-completa">4.1 Coleção completa</a></li>
  <li><a href="#obra-específica" id="toc-obra-específica" class="nav-link" data-scroll-target="#obra-específica">4.2 Obra específica</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exemplo com quanteda - Aula 03</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ul>
<li>Notebook complementar para a <a href="./aula-3.html">Aula 3</a></li>
<li>Responsável: Prof.&nbsp;Dr.&nbsp;Hugo Cristo Sant’Anna - <a href="mailto:hugo.santanna@ufes.br">hugo.santanna@ufes.br</a></li>
</ul>
<section id="instalação-e-carregamento-de-pacotes" class="level2">
<h2 class="anchored" data-anchor-id="instalação-e-carregamento-de-pacotes">1. Instalação e carregamento de pacotes</h2>
<div id="0476d50d" class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># instala pacotes</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>install.packages(<span class="st">'quanteda'</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a>install.packages(<span class="st">'quanteda.textplots'</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a>install.packages(<span class="st">"stopwords"</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a>install.packages(<span class="st">'openxlsx'</span>)</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co"># carrega pacotes</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>library(quanteda)</span>
<span id="cb1-9"><a href="#cb1-9"></a>library(quanteda.textplots)</span>
<span id="cb1-10"><a href="#cb1-10"></a>library(openxlsx)</span>
<span id="cb1-11"><a href="#cb1-11"></a>library(stopwords)</span>
<span id="cb1-12"><a href="#cb1-12"></a></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co"># exibição de números decimais</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>options(scipen<span class="op">=</span><span class="dv">9999</span>)</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co"># seleciona obras 1 a 2</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>obras <span class="op">&lt;-</span> read.xlsx(<span class="st">'1870-1879.xlsx'</span>)</span>
<span id="cb1-18"><a href="#cb1-18"></a>obras <span class="op">&lt;-</span> obras[<span class="dv">1</span>:<span class="dv">2</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package ‘quanteda’ is in use and will not be installed
Warning: package ‘quanteda.textplots’ is in use and will not be installed
Warning: package ‘stopwords’ is in use and will not be installed
Warning: package ‘openxlsx’ is in use and will not be installed</code></pre>
</div>
</div>
</section>
<section id="normalização" class="level2">
<h2 class="anchored" data-anchor-id="normalização">2. Normalização</h2>
<div id="0ef2d850" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># converte para minúsculas</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>obras$texto <span class="op">&lt;-</span> char_tolower(obras$texto)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># tokeniza documento</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>obras.tokens <span class="op">&lt;-</span> tokens(</span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="co"># limites: palavras</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  obras$texto,what<span class="op">=</span><span class="st">"word"</span>,</span>
<span id="cb3-8"><a href="#cb3-8"></a>  <span class="co"># remove pontuação</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>  remove_punct<span class="op">=</span>TRUE</span>
<span id="cb3-10"><a href="#cb3-10"></a>)</span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co"># remove stopwords da coleção</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>obras.tokens <span class="op">&lt;-</span> tokens_select(obras.tokens, selection<span class="op">=</span><span class="st">"remove"</span>, pattern<span class="op">=</span>stopwords(<span class="st">"pt"</span>))</span>
<span id="cb3-14"><a href="#cb3-14"></a></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co"># cria matriz de frequências dos documentos (dfm)</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>obras.dfm <span class="op">&lt;-</span> dfm(obras.tokens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="métricas" class="level2">
<h2 class="anchored" data-anchor-id="métricas">3. Métricas</h2>
<section id="frequência-absoluta-f" class="level3">
<h3 class="anchored" data-anchor-id="frequência-absoluta-f">3.1 Frequência absoluta (<em>f</em>)</h3>
<div id="bfdbefbd" class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># frequências absolutas do documento 1</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>obras.f <span class="op">&lt;-</span> dfm_weight(</span>
<span id="cb4-3"><a href="#cb4-3"></a>    <span class="co"># seleciona dfm</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>    obras.dfm,</span>
<span id="cb4-5"><a href="#cb4-5"></a>    <span class="co"># esquema: contagem (f)</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>    scheme<span class="op">=</span><span class="st">"count"</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>  )</span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a>  <span class="co"># transforma em data.frame e exibe</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  View(convert(obras.f,to<span class="op">=</span><span class="st">"data.frame"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="frequência-relativa-tf" class="level3">
<h3 class="anchored" data-anchor-id="frequência-relativa-tf">3.2 Frequência relativa (<em>tf</em>)</h3>
<div id="5a64b94f" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># frequências absolutas do documento 1</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>obras.tf <span class="op">&lt;-</span> dfm_weight(</span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="co"># seleciona dfm</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  obras.dfm,</span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="co"># esquema: contagem (tf)</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  scheme<span class="op">=</span><span class="st">"prop"</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>)</span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co"># transforma em data.frame e exibe</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>View(convert(obras.tf,to<span class="op">=</span><span class="st">"data.frame"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="inverso-da-frequência-idf" class="level3">
<h3 class="anchored" data-anchor-id="inverso-da-frequência-idf">3.3 Inverso da frequência (<em>idf</em>)</h3>
<div id="be2e1313" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># inverso da frequência (coleção)</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>obras.idf <span class="op">&lt;-</span> docfreq(</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="co"># seleciona dfm</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  obras.dfm,</span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="co"># esquema: inverso (idf)</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  scheme<span class="op">=</span><span class="st">"inverse"</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>)</span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co"># exibe 30 primeiras</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="bu">print</span>(head(obras.idf,n<span class="op">=</span><span class="dv">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> falenas   índice     flor mocidade     fala    manhã  inverno       la marchesa  miramar  sombras 
 0.30103  0.00000  0.00000  0.00000  0.00000  0.30103  0.30103  0.00000  0.30103  0.30103  0.30103 
     ite    missa      est   ruínas     musa    olhos   verdes  noivado   elvira lágrimas     cera 
 0.30103  0.30103  0.30103  0.30103  0.30103  0.00000  0.00000  0.30103  0.30103  0.00000  0.30103 
  livros   flores pássaros    verme       un    vieux     pays      luz 
 0.30103  0.00000  0.30103  0.30103  0.30103  0.30103  0.30103  0.30103 </code></pre>
</div>
</div>
</section>
<section id="importância-dos-termos" class="level3">
<h3 class="anchored" data-anchor-id="importância-dos-termos">3.4 Importância dos termos</h3>
<div id="5d20235c" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># tf-idf</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>obras.tfidf <span class="op">&lt;-</span> dfm_tfidf(</span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="co"># seleciona dfm</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  obras.dfm, </span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="co"># esquema: tf*idf</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  scheme_tf <span class="op">=</span> <span class="st">"prop"</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>)</span>
<span id="cb8-8"><a href="#cb8-8"></a></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co"># exibe</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>View(convert(obras.tfidf,to<span class="op">=</span><span class="st">"data.frame"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="identificando-termos-com-alto-tf.idf" class="level3">
<h3 class="anchored" data-anchor-id="identificando-termos-com-alto-tf.idf">3.5 Identificando termos com alto <em>tf.idf</em></h3>
<div id="82ad5d26" class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># ordena dfm 1</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="bu">print</span>(dfm_sort(obras.tfidf[<span class="dv">1</span>,]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Document-feature matrix of: 1 document, 3,285 features (41.64% sparse) and 0 docvars.
       features
docs          cleon      lísias       mirto       folhas          vão      sombras          luz
  text1 0.004244548 0.003828416 0.003578736 0.0009987172 0.0009987172 0.0009154907 0.0009154907
       features
docs            bela        terra            ó
  text1 0.0007490379 0.0007490379 0.0007490379
[ reached max_nfeat ... 3,275 more features ]</code></pre>
</div>
</div>
</section>
<section id="explorando-termo-específico-na-coleção" class="level3">
<h3 class="anchored" data-anchor-id="explorando-termo-específico-na-coleção">3.6 Explorando termo específico na coleção</h3>
<div id="838f5b3f" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># verifica frequência do termo na coleção</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="bu">print</span>(obras.tf[,<span class="st">"cleon"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Document-feature matrix of: 2 documents, 1 feature (50.00% sparse) and 0 docvars.
       features
docs         cleon
  text1 0.01410008
  text2 0         </code></pre>
</div>
</div>
<div id="a0f272a0" class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># verifica idf do termo na coleção</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="bu">print</span>(obras.idf[<span class="st">"cleon"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  cleon 
0.30103 </code></pre>
</div>
</div>
<div id="d692e064" class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># verifica tf.idf do termo na coleção</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="bu">print</span>(obras.tfidf[,<span class="st">"cleon"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Document-feature matrix of: 2 documents, 1 feature (50.00% sparse) and 0 docvars.
       features
docs          cleon
  text1 0.004244548
  text2 0          </code></pre>
</div>
</div>
</section>
</section>
<section id="nuvem-de-palavras-de-frequência-absoluta" class="level2">
<h2 class="anchored" data-anchor-id="nuvem-de-palavras-de-frequência-absoluta">4. Nuvem de palavras de frequência absoluta</h2>
<section id="coleção-completa" class="level3">
<h3 class="anchored" data-anchor-id="coleção-completa">4.1 Coleção completa</h3>
<div id="bbe889f2" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># nuvem de palavras da coleção</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>textplot_wordcloud(obras.dfm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="aula-3-quanteda_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="obra-específica" class="level3">
<h3 class="anchored" data-anchor-id="obra-específica">4.2 Obra específica</h3>
<div id="e9db2999" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># nuvem de palavras do documento 1</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>textplot_wordcloud(obras.dfm[<span class="dv">1</span>,])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="aula-3-quanteda_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>